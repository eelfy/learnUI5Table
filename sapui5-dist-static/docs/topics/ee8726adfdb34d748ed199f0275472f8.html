<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioee8726adfdb34d748ed199f0275472f8" class=" section topic"><h1 class="collapsible-icon sap-icon innerTitle">Developing OpenUI5</h1><div class="fig"><h1 class="topictitle1 title">Developing OpenUI5</h1><div class="shortdesc">This section provides information for the initial setup, development workflow, and how
		tests are executed.</div><section><h2 class="title ">Setting Up the OpenUI5 Development Environment</h2><p>OpenUI5 content is developed in an environment based on Node.js. <a href="https://sap.github.io/ui5-tooling/" title="https://sap.github.io/ui5-tooling/" class="external-link" target="_blank" rel="noopener">UI5 Tooling</a> is used as development server and
				build tool.</p><section>
				<h3 class="title ">Basic Setup</h3>
				<p>The basic setup allows you to start a server for the OpenUI5 project in
					an easy way:</p>
				<ol>
					<li class="li">
						<p>Install <a href="http://nodejs.org/" title="http://nodejs.org/" class="external-link" target="_blank" rel="noopener">Node.js</a>. This also includes npm, the node
							package manager.</p>
					</li>
					<li class="li">
						<p>Clone the OpenUI5 Git repository. You can download and install Git from <a href="http://git-scm.com/download" title="http://git-scm.com/download" class="external-link" target="_blank" rel="noopener">http://git-scm.com/download</a>:</p>
						<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">git clone https://github.com/SAP/openui5.git</pre></div></section>
					</li>
					<li class="li">
						<p>Install all npm dependencies. Optionally, you can also use Yarn for this. This is described in the Advanced Setup
							section.</p>
						<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">cd openui5
npm install</pre></div></section>
					</li>
					<li class="li">
						<p>Start the server and open the TestSuite:</p>
						<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run testsuite</pre></div></section>
						<p>To just start the server, enter: </p><section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm start</pre></div></section><p></p>
					</li>
					<li class="li">
						<p>Your default browser should open automatically and show the TestSuite: You're done!</p>
					</li>
				</ol>
			</section><section>
				<h3 class="title ">Configuring the TestSuite Server</h3>
				<p>The OpenUI5 TestSuite server can be configured using environment variables. For example, to allow remote access to the server, that
					is, from an interface other than your computer's loopback/localhost, you can configure the server as follows:</p>
				<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">OPENUI5_SRV_ACC_RMT_CON=true npm start</pre></div></section>
				<p>The following server configuration is available:</p>
				<ul class="ul ">
					<li class="li">
						<p><code>OPENUI5_SRV_OPEN=index.html</code></p>
					</li>
					<li class="li">
						<p><code>OPENUI5_SRV_ACC_RMT_CON=true</code></p>
					</li>
					<li class="li">
						<p><code>OPENUI5_SRV_PORT=9090</code></p>
					</li>
				</ul>
			</section><section>
				<h3 class="title ">Advanced Setup</h3>
				<p>The basic setup described above uses a custom setup focused on starting the <a href="https://sap.github.io/ui5-tooling/pages/Server/" title="https://sap.github.io/ui5-tooling/pages/Server/" class="external-link" target="_blank" rel="noopener">UI5 server</a> for the OpenUI5
					TestSuite project in an easy way.</p>
				<p>The advanced setup allows you to use the <a href="https://sap.github.io/ui5-tooling/pages/CLI/" title="https://sap.github.io/ui5-tooling/pages/CLI/" class="external-link" target="_blank" rel="noopener">UI5 CLI</a> and all of its features. The use of Yarn is required in this setup, as npm cannot handle workspaces yet.</p>
				<p>Use the advanced setup if you plan to do any of the following:</p>
				<ul class="ul ">
					<li class="li">
						<p>Build an OpenUI5 project.</p>
					</li>
					<li class="li">
						<p>Serve a project with HTTPS or HTTP/2.</p>
					</li>
					<li class="li">
						<p>Use any of the other UI5 CLI features and parameters.</p>
					</li>
				</ul>
				<p>For the advanced setup, proceed as follows:</p>
				<ol>
					<li class="li">
						<p>Install the UI5 Tooling CLI globally, see <a href="https://sap.github.io/ui5-tooling/pages/CLI/" title="https://sap.github.io/ui5-tooling/pages/CLI/" class="external-link" target="_blank" rel="noopener">UI5
								Tooling: Installing the UI5 CLI</a>.</p>
					</li>
					<li class="li">
						<p>Install Yarn. See <a href="https://sap.github.io/ui5-tooling/pages/FAQ/#whats-the-thing-with-yarn" title="https://sap.github.io/ui5-tooling/pages/FAQ/#whats-the-thing-with-yarn" class="external-link" target="_blank" rel="noopener">FAQ: What's the thing with Yarn? </a>.</p>
					</li>
					<li class="li">
						<p>In the OpenUI5 repository root directory, install all dependencies using Yarn. This also links all OpenUI5 libraries
							between each other.</p>
						<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">yarn</pre></div></section>
					</li>
					<li class="li">
						<p>Navigate into the TestSuite project and start the UI5 server:</p>
						<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">cd src/testsuite
ui5 serve --open index.html</pre></div></section>
					</li>
				</ol>
				<p>You can now use the UI5 CLI in any of your local OpenUI5 libraries. For details, check the <a href="https://sap.github.io/ui5-tooling/pages/CLI/" title="https://sap.github.io/ui5-tooling/pages/CLI/" class="external-link" target="_blank" rel="noopener">UI5 CLI documentation</a>. </p>
				<p>Whenever you make changes to your OpenUI5 repository's
						<code>node_modules</code> directory (e.g. by executing <code>npm install</code>), you may need to recreate the links
					between the OpenUI5 libraries. You can always do this by executing
						<code>yarn</code> in the OpenUI5 root directory.</p>
			</section><section>
				<h3 class="title ">Legacy Setup</h3>
				<p>You can continue to use the legacy Grunt-based setup. However, the setups described above are recommended for working with the
						OpenUI5 repository.</p>
				<p>To use the legacy setup, execute <code>npm run start-grunt</code>. Note that in the past this was the default <code>npm
						start</code> behavior.</p>
				<p>The legacy setup has the following differences to the standard setups as described above:</p>
				<ul class="ul ">
					<li class="li">
						<p><code>testsuite</code> path prefix:</p>
						<p>Standard setup: <code>http://localhost:8080/test-resources/testsuite/testframe.html</code></p>
						<p>Legacy setup: <code>http://localhost:8080/testsuite/test-resources/testsuite/testframe.html</code></p>
					</li>
					<li class="li">SDK documentation generated by <code>grunt docs</code> can only be served using the legacy setup.</li>
				</ul>
			</section></section><section id="section_stp_zzq_yfb"><h2 class="title ">The Development Process</h2><p>For a regular
				development, no build is required. Just modify any source file and reload your
				browser. Now that's simple, isn't it?</p><p>This build-free development process does
				not feature optimized runtime performance. For example, there are many small
				requests, which would not be acceptable for remote connections. But it is the most
				convenient way to modify the OpenUI5 sources. Under the hood there are mainly two
				mechanisms applied that adapt the sources:</p><ul class="ul ">
				<li class="li">
					<p>The Git repository path contains a folder named like the respective control
						library (e.g. "sap.m"), which is omitted at runtime. The UI5 CLI server is
						mapping the locations.</p>
				</li>
				<li class="li">
					<p>The CSS files are transformed (server-side) by the LESS pre-processor during
						the first request after a CSS file has been modified. This includes
						mirroring for right-to-left support.</p>
				</li>
			</ul><p>When you work on OpenUI5 applications or libraries that already make use of the OpenUI5 npm packages, such as
				the OpenUI5 sample app,
				you can link your local OpenUI5 repository into that
				project. This allows you to make changes to the project itself as well as to the
					OpenUI5 libraries
				simultaneously and test them immediately.</p><p>For a detailed step-by-step guide on
				how to achieve such a setup with the OpenUI5 sample app, see <a href="https://github.com/SAP/openui5-sample-app#working-with-local-dependencies" title="https://github.com/SAP/openui5-sample-app#working-with-local-dependencies" class="external-link" target="_blank" rel="noopener">Working With Local Dependencies</a>.</p><section>
				<h3 class="title ">Building OpenUI5</h3>
				<p>The UI5 Tooling is used to build a production-ready version of OpenUI5. Every library
					needs to be built individually.</p>
				<p>Usage:</p>
				<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">ui5 build</pre></div></section>
				<p>The build is responsible for the following tasks:</p>
				<ul class="ul ">
					<li class="li">
						<p>Creation of the bundled <code>library.css</code> and
								<code>library-RTL.css</code> file for all available themes</p>
					</li>
					<li class="li">
						<p>Minification of CSS</p>
					</li>
					<li class="li">
						<p>Minification of JavaScript</p>
					</li>
					<li class="li">
						<p>Bundling the JavaScript modules of the libraries into a single
								<code>library-preload.js</code> file</p>
					</li>
					<li class="li">
						<p>Bundling of the most important OpenUI5 Core
							modules into <code>sap-ui-core.js</code></p>
					</li>
				</ul>
				<p>If you encounter errors like the one below, execute <code>yarn</code> in the
						OpenUI5 root
					directory. There may be new build tools required which need to be downloaded
					first.</p>
				<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">Error: Cannot find module 'xyz'</pre></div></section>
			</section><section>
				<h3 class="title ">Testing OpenUI5</h3>
			</section><p>All OpenUI5 code must conform to a certain ruleset which is checked with
				ESLint.</p><p>To run an ESLint check, navigate to the root directory of the
				repository and execute:</p><section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run lint</pre></div></section></section><section id="section_vqb_p1w_jjb"><h2 class="title ">Running Tests</h2><p>Tests can be executed
				automatically with the Karma Test-Runner.</p><p>To run tests of a library, the
					<code>--lib</code> needs to be passed. The
					<code>&lt;library-name&gt;</code> corresponds to the folder within
					<code>./src/</code>, e.g.
				<code>sap.m</code>.</p><section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run karma -- --lib=&lt;library-name&gt;</pre></div></section><p>This
				executes all tests of that library in watch mode, which will automatically re-run
				tests in case of file changes.</p><p><span class="emphasis">Example</span>
				</p><section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run karma -- --lib=sap.m</pre></div></section><p></p><section>
				<h3 class="title ">Running a Specific Test</h3>
				<p>Instead of executing all tests of a library, you can also only run one test or a
					testsuite.</p>
				<p>To find the URL, open <code>http://localhost:8080/test.html</code> and
					search for the test. Copy the URL and remove the origin part
						(<code>http://localhost:8080/</code>), so that it starts with
						<code>resources</code> or <code>test-resources</code>.</p>
				<section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run karma -- --lib=&lt;library-name&gt; --ui5.testpage="&lt;testpage-url&gt;"</pre></div></section>
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>The corresponding <code>--lib</code> option still needs to be provided
					accordingly.</p></div></div>
				<p><span class="emphasis">Example</span></p><section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run karma -- --lib=sap.m --ui5.testpage="resources/sap/ui/test/starter/Test.qunit.html?testsuite=test-resources/sap/m/qunit/testsuite.mobile.qunit&test=Button"</pre></div></section><p></p>
			</section><section>
				<h3 class="title ">Coverage</h3>
				<p>You enable coverage reporting by additionally passing the
						<code>--coverage</code> option:</p>
				<section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run karma -- --lib=&lt;library-name&gt; --coverage</pre></div></section>
			</section><section>
				<h3 class="title ">Continuous integration (CI)</h3>
				<p>You enable the continuous integration mode by additionally passing the
						<code>--ci</code> option. This enables Chrome headless and disables the
					watch mode, so the execution stops after all tests have been executed:</p>
				<section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">npm run karma -- --lib=&lt;library-name&gt; --ci</pre></div></section>
				<p>You can combine the options <code>--ci</code> and
					<code>--coverage</code>.</p>
			</section></section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>