<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio2ae520a67c44495ab5dbc69668c47a7f" class=" section topic"><h1 class="collapsible-icon sap-icon innerTitle">Filter Bar</h1><div class="fig"><h1 class="topictitle1 title">Filter Bar</h1><div class="shortdesc">The sap.ui.comp.filterbar.FilterBar control is used to provide a
		user-friendly interface for queries.</div><p>The frequently asked questions section below aims at answering some
				basic questions that you might have when using this control.</p><p>For more
				information about this control, see the <a href="#/api/sap.ui.comp.filterbar.FilterBar" title="#/api/sap.ui.comp.filterbar.FilterBar" class="sap-doc" alt="#/api/sap.ui.comp.filterbar.FilterBar">API Reference</a> and the <a href="#/entity/sap.ui.comp.filterbar.FilterBar" title="#/entity/sap.ui.comp.filterbar.FilterBar" class="sap-doc" alt="#/entity/sap.ui.comp.filterbar.FilterBar">samples</a>.</p><section>
			<h2 class="title ">Overview</h2>
			<p>The <code>FilterBar</code> control has been implemented as a toolbar with a
				collapsible filter area. Whereas the toolbar is always visible, the filter area can
				be hidden to reduce the space required.</p>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>This applies to desktop use. On tablets, the filter area is always collapsed but can be
				expanded by the user. On phones, the filter area is not displayed at all. You can
				access the filters through the <span class="ph uicontrol">Filters</span>
				dialog.</p></div></div>
			<p>The toolbar includes the <code>VariantManagement</code> control and contains the
				following buttons:</p>
			<ul class="ul ">
				<li class="li"><span class="ph uicontrol">Go</span><p>Executes the query.</p><p>A <code>Search</code>
						event is raised, and the consuming control must respond to it. The
							<code>showGoButton</code> property is set to <code>True</code>
						by default and determines whether the button is visible.</p></li>
				<li class="li"><span class="ph uicontrol">Hide Filter Bar</span> /<span class="ph uicontrol">Show Filter Bar
						</span><p>Hides or displays the filter area.</p><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>This function is
						available for desktop use only.</p></div></div></li>
				<li class="li"><span class="ph uicontrol">Filters</span><p>Lists
						the filters that are available and, if selected, displays the filter
						dialog.</p></li>
			</ul>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>You can also deactivate the toolbar using the <code>useToolbar=false</code>
				property setting. In this case the filter bar buttons are rendered in the filter
				area right behind the filters; on phones, right before the filters. The
					<span class="ph uicontrol">Filters</span> dialog is then called <span class="ph uicontrol">Adapt
					Filters</span> dialog.</p></div></div>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>The <code>FilterBar</code> control can be used on its own. However, we
				strongly recommend to use it in combination with the <code>SmartFilterBar</code>
				control.</p></div></div>
		</section><section><h2 class="title ">Details</h2><section>
				<h3 class="title "><code>FilterItem</code> and
					<code>FilterGroupItem</code></h3>
				<p>Filters are similar to query parameters. A filter is represented either by a
						<code>FilterItem</code> element or its specialization, the
						<code>FilterGroupItem</code> element. They are populated via the
						<code>FilterItems</code> or <code>FilterGroupItems</code>
					aggregations. The main difference is that the <code>FilterGroupItem</code>
					has the <code>group</code> attribute. The <code>FilterItem</code> is
					internally processed as a <code>FilterGroupItem</code> that belongs to the
						<code>Basic</code> group.</p>
				<p>The embedding component of the <code>FilterBar</code> control determines if a
					filter is mandatory and visible, defines its label, and whether the filter is
					visible in the filter area.</p>
			</section><section>
				<h3 class="title "><span class="ph uicontrol">Filters</span>
					Dialog</h3>
				<p>The
						<span class="ph uicontrol">Filters</span>
					dialog provides all the functions that are available with the
						<code>FilterBar</code> control. The dialog shows groups of filter fields
					that are connected semantically, and they all have a group title.</p>
				<p>You can define which filter is visible in the filter
					bar.
					In the <span class="ph uicontrol">Filters</span> dialog, you can select the following: </p><ul class="ul ">
						<li class="li">
							<p><span class="ph uicontrol">All</span>: Displays all available filters</p>
						</li>
						<li class="li">
							<p><span class="ph uicontrol">Visible</span>: Displays the filters shown in the
								filter bar</p>
						</li>
						<li class="li">
							<p><span class="ph uicontrol">Active</span>:
								Displays the filters with a value</p>
						</li>
						<li class="li">
							<p><span class="ph uicontrol">Visible
									and Active</span>: Displays the filters
								shown in the filter bar and the ones with a value</p>
						</li>
						<li class="li">
							<p><span class="ph uicontrol">Mandatory</span>:
								Displays the mandatory filter fields </p>
						</li>
					</ul><p></p>
				<p>The information in this dialog is row-based. The
						<span class="ph uicontrol">Basic</span>
					group with filters is always expanded.
					For
					each filter, you can select a
					checkbox
					to make the filter visible in the filter bar.</p>
				<p>Mandatory filters can only be removed from the filter bar if they have a value.
					As long as a mandatory filter does not have a value, it will be treated as added
					to the filter bar.</p>
				<p>There are two views that the user can choose from, the
					list
					and the group view. The list view offers a more condensed display, for example,
					if there are fewer filter fields available. </p>
				<p>The
					buttons
					in the dialog offer the following functions:</p>
				<ul class="ul ">
					<li class="li"><span class="ph uicontrol">OK</span><p>Closes
							the dialog.</p><p>Any data that is entered by the user is taken over
							before the dialog is closed.</p></li>
					<li class="li"><span class="ph uicontrol">Cancel</span><p>Reverts all changes made by the user since
							the dialog was opened and closes the dialog.</p></li>
					<li class="li">
						<p><span class="ph uicontrol">Reset</span></p>
						<p>Reverts all changes made to the current view by raising the
								<code>Reset</code> event and applies the current view again.</p>
					</li>
				</ul>
			</section></section><section>
			<h2 class="title ">Integration with Value Help Dialog</h2>
			<p>The filter bar is also used in the <span class="ph uicontrol">Value Help</span> dialog
				scenarios. The filter bar property <code>advancedMode</code> must be set to
					<code>true</code> to enable this function.</p>
			<p>The embedding component has to provide a search field using the
					<code>FilterItems</code> aggregation and an advanced search using the
					<code>FilterGroupItems</code> aggregation. For the search, the
					<code>Search</code> event is raised.</p>
		</section><section><h2 class="title ">Integration with Smart Variant Management</h2><p>A view represents a set of
				filters. Views are handled and represented on the user interface by the
					<code>VariantManagement</code> control that is included in the toolbar of
				the <code>FilterBar</code> control. Views are stored in a backend system and
				also retrieved from there.</p><p>For views, the following is available:</p><ul class="ul ">
				<li class="li">Shell service for personalization</li>
				<li class="li">SAPUI5
					flexibility</li>
			</ul><p>They can be accessed using the <code>SmartVariantManagement</code> or
					<code>SmartVariantManagementUI2</code> control.</p><p>For more
					information about the shell services, see the <a href="#/api/sap.ushell.services.Personalization" title="#/api/sap.ushell.services.Personalization" class="sap-doc" alt="#/api/sap.ushell.services.Personalization">API Reference</a> in the Demo Kit.
					 For more information about SAPUI5 flexibility, see
					<a href="#/topic/a8e55aa2f8bc4127923b20685a6d1621.html" title="Modification-free, cost-saving, easy to use, and performant: Discover the new flexibility when adapting SAP Fiori UIs using SAPUI5 flexibility." class="sap-doc">SAPUI5 Flexibility: Adapting UIs Made Easy</a>.</p><p>The consuming
				control that is using the <code>SmartVariantManagement</code> control has to
				provide the following dedicated methods:</p><ul class="ul ">
				<li class="li"><code>applyVariant</code> (<code>oVariantContent</code>)</li>
				<li class="li"><code>var oVariantContent</code> = <code>fetchVariant</code> ()</li>
			</ul><p>The <code>fetchVariant</code> has to return a JSON object. This is the
				information that is stored along with some administrative information, such as the
				name of the view and the ID. Once the view has been retrieved from the backend
				system and transferred to the consuming control, the <code>applyVariant</code>
				is executed. During execution, the consuming control must know the format of
					<code>oVariantContent</code>, since the control must also provide the method
				and react on it.</p><p>The following table shows which controls are used by the
				filter bar controls to handle views:</p><div class="tableWrapper "><div class="fig"><tgroup>
					
					
					</tgroup><table border="1" id="table_z1p_2vb_zw" class=" "><colgroup><col width="1.0"><col width="1.0"></colgroup><thead>
						<tr>
							<th colspan="1" rowspan="1">
								<p>Control</p>
							</th>
							<th colspan="1" rowspan="1">
								<p>Uses</p>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p><code>FilterBar</code></p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p><code>SmartVariantManagementUI2</code></p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p><code>SmartFilterBar</code></p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p><code>SmartVariantManagement</code></p>
							</td>
						</tr>
					</tbody>
				</table></div></div><section>
				<h3 class="title ">Shell Service for Personalization </h3>
				<p>The shell service for personalization is handled internally by the
						<code>FilterBar</code> control. The basic view handling is implemented
					by the <code>SmartVariantManagementUI2</code> control. It extends the
						<code>VariantManagement</code> control. The shell service for
					personalization only supports end user personalization.</p>
				<p>The consuming control of the <code>FilterBar</code> has to provide two
					methods, one for fetching the data that must be stored as the content of the
					view, and one for applying this data, if the view is set. Both methods have to
					be registered using the corresponding methods of the <code>FilterBar</code>
					control:</p>
				<ul class="ul ">
					<li class="li"><code>registerApplyData</code> (<code>fApplyData</code>) –
						interface: <code>fApplyData</code>
						(<code>oVariantContent</code>)</li>
					<li class="li"><code>registerFetchData</code> (<code>fFetchData</code>) –
						interface: <code>oVariantContent</code> = <code>fFetchData</code>
						()</li>
				</ul>
				<p>A persistence key <code>setPersistencyKey</code> (<code>sKey</code>) must
					be provided as well. This key identifies the storage area and saves and
					retrieves the views currently used.</p>
				<p>To trigger the retrieval of the views, the consuming control must register to the
						<code>Initialise</code> event of the <code>FilterBar</code> and call
					the <code>fireInitialise()</code> method in the <code>FilterBar</code>
					control. </p>
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>The retrieval of the initial views is done asynchronously. If the retrieval
					has been completed, the <code>SmartVariantManagementUI2</code> control will
					be populated with the view information, and the event handler for the
						<code>Initialise</code> event will be called.</p></div></div>
			</section><section>
				<h3 class="title ">SAPUI5
					Flexibility </h3>
				<p>SAPUI5 flexibility
					is handled internally by the <code>SmartFilterBar</code> control. The basic
					view handling is implemented by the <code>SmartVariantManagement</code>
					control. It extends the <code>VariantManagement</code> control. SAPUI5 flexibility
					features support end user personalization and also allow you to create and store
					views in the VENDOR layer of the layered repository.</p>
				<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>We recommend that you always use SAPUI5 flexibility
					rather than the shell service.</p></div></div>
			</section><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>You can also hide <code>VariantManagement</code> if no
					<code>persistencyKey</code> is provided. Also, you can separate the
					<code>VariantManagement</code> control from the <code>FilterBar</code>
				control by using the page variant of the <code>SmartVariantManagement</code>
				control.</p></div></div></section><section><h2 class="title ">FAQ</h2><section class="collapsible"><div class="collapsible-icon sap-icon"><h3 class="title collapsible">How can I use SAPUI5 flexibility in the <code>FilterBar</code> control?</h3></div><div class="fig"><p>In general, the <code>FilterBar</code> control supports the shell service for
					personalization. The following steps describe how to enable the
						<code>FilterBar</code> control to use the SAPUI5 flexibility
					features provided the <code>FilterBar</code> is already used and the
					consuming control supports the shell service via the <code>FilterBar</code>
					control. If this is not the case, make sure the shell service is used as
					described above before you start.</p><p>After that, here is what you need to do:</p><ol>
					<li class="li">Extend the <code>FilterBar</code> to create a new
							<code>FilterBar</code>
						control.<section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">sap.ui.comp.filterbar.FilterBar.extend(“my.ui5flex.FilterBar”) {..}</pre></div></section></li>
					<li class="li">Overwrite the internal <code>_initializeVariantManagement</code>
						function of the <code>FilterBar</code> control.
							<section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">my.ui5flex.FilterBar.prototype._initializeVariantManagement = function() {
      	if (this._oSmartVM && this.getPersistencyKey()) {
            var oPersInfo = new sap.ui.comp.smartvariants.PersonalizableInfo({
		     type: "filterBar",
		     keyName: "persistencyKey"		
             });
	     oPersInfo.addControl(this);

	     this._oSmartVM.addPersonalizableControl(oPersInfo);					        
             sap.ui.comp.filterbar.FilterBar.prototype._initializeVariantManagement.apply(this, arguments);

	 } else {
		this.fireInitialise();
 }
    };
</pre></div></section><div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>Here,
							the <code>_initializeVariantManagement</code> function has to be
							called instead of the <code>fireInitialise()</code> method, as
							mentioned before. The main purpose of this function is to register the
							extended <code>FilterBar</code> control to the
								<code>VariantManagement</code> control. Once the
								<code>VariantManagement</code> control has been initialized, the
								<code>FilterBar</code> control triggers the
								<code>fireInitialise()</code> method call
						internally.</p></div></div></li>
					<li class="li">Overwrite the internal <code>_createVariantManagement</code> function of
						the <code>FilterBar</code>
						control.<section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">my.ui5flex.FilterBar.prototype._createVariantManagement = function() {
         this._oSmartVM = new sap.ui.comp.smartvariants.SmartVariantManagement({
                	showExecuteOnSelection: true,
                	showShare: true
           	   });
                return this._oSmartVM;
};
</pre></div></section></li>
				</ol></div></section></section><section>
			<h2 class="title ">Further Communication between <code>FilterBar</code>,
					<code>SmartFilterBar</code>, and Consuming Control</h2>
			<p>The following is also valid for the <code>SmartFilterBar</code> control: Before a view is
				saved, the <code>FilterBar</code> control triggers the
					<code>beforeVariantSave</code> event. This allows the consuming control to
				prepare for the <code>fetchData</code> call, if required. Right after this event
				is raised, the <code>FilterBar</code> control calls the method provided by the
					<code>registerFetchData</code> method. If you select a view from the
					<code>VariantManagement</code> control or the
					<code>SmartVariantManagement</code> respectively after the
					<code>FilterBar</code> has called the method provided by the
					<code>registerApplyData</code> method, the <code>afterVariantLoad</code>
				event is raised.</p>
			<div class="note   "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Note
				</strong></div></div><div class="fig"><p>The <code>afterVariantLoad</code> event is also raised internally when you select
					<span class="ph uicontrol">Cancel</span> or
					<span class="ph uicontrol">Reset</span>
				in the
					<span class="ph uicontrol">Filters</span>
				dialog of the filter bar.</p></div></div>
		</section><section>
			<h2 class="title ">Related Information</h2>
			<p><a href="#/topic/7bcdffc056a94731b4341db73251e32b.html" title="The sap.ui.comp.smartfilterbar.SmartFilterBar control analyzes the $metadata document of an OData service and renders a FilterBar control that can be used to filter, for example, a table or a chart." class="sap-doc">Smart Filter Bar</a></p>
			<p><a href="#/topic/06a4c3ac1cf545a7b51864e7f3aa02da.html" title="The sap.ui.comp.smartvariants.SmartVariantManagement control provides an interface to enable a simple integration of the sap.ui.comp.variants.VariantManagement control and access to the layered repository of SAPUI5 flexibility for easy communication." class="sap-doc">Smart Variant Management</a></p>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="hidden relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig"></ul></section></div></section></div></body></html>