<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loio2e532e6288854e5897a819a2ab6cc910" class=" section topic"><h1 class="collapsible-icon sap-icon innerTitle">Implementing Your Own OData V2 Message Parser</h1><div class="fig"><h1 class="topictitle1 title">Implementing Your Own OData V2 Message Parser</h1><div class="shortdesc">A message parser is a simple interface that is implemented to allow the propagation of
		messages from back end services. For messages from OData V2 services, the
			sap.ui.model.odata.ODataMessageParser is used.</div><p>If you have your own service implementation, for example, a JSON-based back end that also
			sends messages, you can implement your own message parser by implementing the
				<code>sap.ui.core.message.MessageParser</code> interface.The interface is very
			simple: It has only the <code>parse</code> and the <code>setProcessor</code>
			method. The <code>parse</code> method takes at least one parameter, that is, the
				<code>response</code> object from the server. The method can take more
			model-specific arguments. The <code>setProcessor</code> method takes only one
			argument, the <code>processor</code> object that is used to propagate the messages,
			this is usually the <code>model</code> instance.</p><p>The main task of the message parser is to retrieve the messages from the back end
			response and then calculate the message delta that is handed over to the message
			processor by means of the two parameters <code>oldMessages</code> and
				<code>newMessages</code> of the <code>messageChange</code> event. The
				<code>oldMessages</code> parameter specifies the messages that are to be
			removed, and the <code>newMessages</code> parameter specifies the messages that are
			to be added.</p><section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">this.getProcessor().fireMessageChange({
    oldMessages: aRemovedMessages,
    newMessages: aNewMessages
});</pre></div></section><p>The delta calculation must be a back end-specific implementation. In the OData
			implementation, for example, all messages for the requested resource(s) must be returned
			from the back end on every request. This means that all messages that were available
			before with a target that corresponds to the requested resources must be put in the
				<code>oldMessages</code> parameter of the event.</p><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="#/api/sap.ui.model.odata.ODataMessageParser" title="#/api/sap.ui.model.odata.ODataMessageParser" class="sap-doc" alt="#/api/sap.ui.model.odata.ODataMessageParser">sap.ui.model.odata.ODataMessageParser</a></li>
		<li><a href="#/api/sap.ui.model.odata.v2.ODataModel" title="#/api/sap.ui.model.odata.v2.ODataModel" class="sap-doc" alt="#/api/sap.ui.model.odata.v2.ODataModel">sap.ui.model.odata.v2.ODataModel</a></li>
		<li><a href="#/api/sap.ui.core.message.MessageParser" title="#/api/sap.ui.core.message.MessageParser" class="sap-doc" alt="#/api/sap.ui.core.message.MessageParser">sap.ui.core.message.MessageParser</a></li>
		
	</ul></section></div></section></div></body></html>