<html><head></head><body><div id="d4h5-main-container" class="dk-main"><section id="loioc24569de859446819798c5dc53ac604d" class=" section topic"><h1 class="collapsible-icon sap-icon innerTitle">Create a Rule</h1><div class="fig"><h1 class="topictitle1 title">Create a Rule</h1><div class="shortdesc">A rule consists of properties that test and advise on how possible issues can be
		resolved and a check function that tests the application for a specific issue. To create a
		rule, you need to set the properties and add a check function. </div><p>For more information on how to create rules in the user interface, see <a href="#/topic/3fc864acf926406194744375aa464fe7.html" title="The user interface of the Support Assistant lets you choose which rules you can load for a library. It also allows you to organize your Rules view according to your preference and to import and export predefined rule selections." class="sap-doc">Rules Management</a>.</p><p>You can find best practices on how to create rules in <a href="#/topic/eaeea19a991d46f29e6d8d8827317d0e.html" title="There are some general guidelines for writing succinct and meaningful rules to ensure high quality, consistency and better usability of the reported issues." class="sap-doc">Guidelines and Best Practices</a> .</p><section id="section_uss_5gd_21b">
			<h2 class="title ">Properties</h2>
			<p>You need to set the following properties :</p>
			<div class="tableWrapper "><div class="fig"><tgroup>
					
					
					</tgroup><table border="1" id="table_izk_klf_h1b" class=" "><colgroup><col width="1"><col width="1.81"></colgroup><thead>
						<tr>
							<th colspan="1" rowspan="1">
								<p>Property</p>
							</th>
							<th colspan="1" rowspan="1">
								<p>Description</p>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>ID</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>The ID of the rule. It must be a valid camelCase string
									consisting of between 6 and 50 alphabetic characters.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Title</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>The name of the rule in a readable format. It must be a valid
									string consisting of between 6 and 200 characters.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Audiences</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>Describes what audiences the rule is intended for. You can have
									multiple audiences selected.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Categories</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>Describes what the rule tests. You can have multiple categories
									selected.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Min version</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>The minimum version the rule should be checked at. Possible
									values are &lt;empty string&gt; and versions like 1.28, 1.44,
									etc.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Async</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>Defines if the rule check function will contain asynchronous
									operations.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Description</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>A short description of the rule.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Resolution</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>A short advice on what to do to fix the issue generated by the
									rule.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Resolution URLs</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>An array of key/value pairs of texts and URLs providing the links
									to documentation where the user can find how to fix the issue
									generated by the rule. You can have multiple resolution URLs.
									Key is <code>text</code> and value is
									<code>href</code>.</p>
							</td>
						</tr>
						<tr>
							<td colspan="1" rowspan="1" valign="top">
								<p>Check function</p>
							</td>
							<td colspan="1" rowspan="1" valign="top">
								<p>Function that checks the application against the rule. It is
									described in more detail in the next section. </p>
							</td>
						</tr>
					</tbody>
				</table></div></div>
		</section><section id="section_bmv_fhd_21b">
			<h2 class="title ">Check Function</h2>
			<p>The check function has three main and one optional parameters. The main ones are
					<code>oIssueManager</code>, <code>oCoreFacade</code> and
					<code>oScope</code>, and the optional one is <code>fnResolve</code>.
				Here is more information about them:</p>
			<ul class="ul ">
				<li class="li">
					<p><code>oIssueManager</code> - allows you to add new issues with the
							<code>addIssue()</code> method. The issue object has the following
						properties:</p>
					<ul class="ul ">
						<li class="li">
							<p>Severity - the possible values are:</p>
							<ul class="ul ">
								<li class="li">
									<p><code>sap.ui.support.Severity.Low</code></p>
								</li>
								<li class="li">
									<p><code>sap.ui.support.Severity.Medium</code></p>
								</li>
								<li class="li">
									<p><code>sap.ui.support.Severity.High</code></p>
								</li>
							</ul>
						</li>
						<li class="li">
							<p>Details - free text, may include any type of details related to the
								issue.</p>
						</li>
						<li class="li">
							<p>Context - an object, which has an <code>ID</code> property. The
									<code>ID</code> should belong to the element, which
								generates the issue.</p>
						</li>
					</ul>
				</li>
				<li class="li">
					<p><code>oCoreFacade</code> - gives you access to the different elements
						provided by the SAPUI5 core
							framework:</p><ul class="ul ">
							<li class="li">
								<p><code><a href="#/api/sap.ui.base.Object/methods/getMetadata" title="#/api/sap.ui.base.Object/methods/getMetadata" class="sap-doc" alt="#/api/sap.ui.base.Object/methods/getMetadata">getMetadata()</a></code></p>
							</li>
							<li class="li">
								<p><code><a href="#/api/sap.ui.core.Core/methods/getUIArea" title="#/api/sap.ui.core.Core/methods/getUIArea" class="sap-doc" alt="#/api/sap.ui.core.Core/methods/getUIArea">getUIAreas()</a></code></p>
							</li>
							<li class="li">
								<p><code><a href="#/api/sap.ui.core.Core/methods/getComponent" title="#/api/sap.ui.core.Core/methods/getComponent" class="sap-doc" alt="#/api/sap.ui.core.Core/methods/getComponent">getComponents()</a></code></p>
							</li>
							<li class="li">
								<p><code><a href="#/api/sap.ui.core.Core/methods/getModel" title="#/api/sap.ui.core.Core/methods/getModel" class="sap-doc" alt="#/api/sap.ui.core.Core/methods/getModel">getModels()</a></code></p>
							</li>
						</ul><p></p>
				</li>
				<li class="li">
					<p><code>oScope</code> - retrieves elements in the scope with the following
							methods:</p><ul class="ul ">
							<li class="li">
								<p><code>getElements()</code> - returns all the elements.</p>
							</li>
							<li class="li">
								<p><code>getElementsByClassName(className)</code> - the
									className can be, for example, <code>sap.m.Button</code>.
									The function returns all elements of type
										<code>sap.m.Button</code>.</p>
							</li>
							<li class="li">
								<p><code>getPublicElements()</code> - returns all elements that
									are part of public API aggregations.</p>
							</li>
							<li class="li">
								<p><code>getLoggedObjects(type)</code> - returns all logged
									objects. The method provides access to the logs and traces in
									the browser Console. Note that it is possible to enhance the log
									traces with an extra <code>fnSupportInfo</code> object which
									you can then analyze in the rule check function. The
										<code>fnSupportInfo</code> function is called only when
									support mode is turned on with the URL parameter
										<code>sap-ui-support</code> set to <code>true</code>
										(<code>sap-ui-support=true</code>). For more
									information, see <a href="#/topic/3fc141206cee4ab2aa514b569ed423c0.html#loio3fc141206cee4ab2aa514b569ed423c0/section_Rules_for_the_Console_Traces_and_Logging" title="3fc141206cee4ab2aa514b569ed423c0.xml#loio3fc141206cee4ab2aa514b569ed423c0/section_Rules_for_the_Console_Traces_and_Logging" class="sap-doc">Rules for the Console Traces and Logging</a>.</p>
							</li>
						</ul><p></p>
					<p>Prior to version 1.54, <code>getElements</code> was not accepting any
						arguments and was returning all elements registered with the core. Now it
						accepts one query object parameter. This allows you to select only a
						specific subset of elements valid for your use case. The three parameters of
						the method are <code>type</code>, <code>public</code>, and
							<code>cloned</code>.</p>
					<p>Here is an example format:</p>
					<section><div class="fig fig-codeblock"><pre class="codeblock prettyprint">var queryObject = {

  type: "sap.m.Button", // String property specifying the type to select

  public: true, // Boolean property specifying whether only public elements should be loaded

  cloned: false // Boolean argument specifying if cloned elements are needed

}</pre></div></section>
					<p>When the <code>public</code> parameter is set to true, the
							<code>getElements</code> function only explores public aggregations.
						It is useful if, for example, you have a composite control comprising of
						public and internal subelements, and you only want to check the public
						ones.</p>
					<p>The <code>cloned</code> parameter allows you to filter out elements that
						are clones of list bindings. If you don't want to explore issues associated
						with multiple cloned elements, for example repeated table cell content, set
							<code>cloned: false</code> and the results will include only one
						representative instance.</p>
					<p>Here is an example of a check function that checks all Input controls which
						are part of the public aggregation and have no parent set:</p>
					<section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">function(issueManager, oCoreFacade, oScope) {
  var mElements = oScope.getElements({
    type: "sap.m.Input",
    public: true,
    cloned: false
  });
  for (var n in mElements) {
    var oElement = mElements[n];
    if (!oElement.getParent()) {
      issueManager.addIssue({
        severity: sap.ui.support.Severity.Medium,
        details: "The element " + oElement.getId() + " has no parent.",
        context: {
          id: oElement.getId()
        }
      });

    }
  }
}
</pre></div></section>
				</li>
				<li class="li">
					<p><code>fnResolve</code> - an optional parameter. It is passed to the check
						function only when the rule property <code>async</code> is set to
							<code>true</code> to allow you, as the rule developer, to resolve an
						asynchronous operation. The rule times out if it takes more than 10 seconds
						to resolve.</p>
					<p>Here is an async rule code
						example:</p><section class="lang-js"><div class="fig fig-codeblock"><pre class="codeblock prettyprint">function(issueManager, oCoreFacade, oScope, fnResolve) {
  // Some async operation
  setTimeout(function () {
    …
    fnResolve();
  }, 2000);
}
</pre></div></section><p></p>
				</li>
			</ul>
			<div class="note remember  "><div class="collapsible-icon sap-icon"><div class="title"><strong>
					Remember
				</strong></div></div><div class="fig"><p>
				</p><p>Make sure to call <code><span class="emphasis">issueManager.addIssue()</span></code>
					in your check function so that issues can be seen in the analysis results.</p>
			<p></p></div></div>
		</section><section class="contentInSection hidden"><h2>In this section:</h2></section><section class="familyLinks"><div class="parentLink hidden"><br><strong>Parent topic: </strong></div><div class="previousLink hidden"><br><strong>Previous: </strong></div><div class="nextLink hidden"><br><strong>Next: </strong></div></section><section class="relatedLinks "><div class="collapsible-icon sap-icon title"><h2>Related information</h2></div><ul class="fig">
		<li><a href="#/api/sap.ui.support.ExecutionScope" title="#/api/sap.ui.support.ExecutionScope" class="sap-doc" alt="#/api/sap.ui.support.ExecutionScope">API Reference: sap.ui.support.ExecutionScope</a></li>
		<li><a href="#/topic/3fc141206cee4ab2aa514b569ed423c0.html" title="The Support Assistant checks verify different aspects of your web application - from the view/elements structure and control properties to the dynamic, data and event-driven interactions. You can traverse the DOM tree, look at error logs during startup or check the CSS." class="sap-doc">Common Rule Patterns</a></li>
	</ul></section></div></section></div></body></html>