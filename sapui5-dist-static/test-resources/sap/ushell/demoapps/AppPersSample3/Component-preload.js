//@ui5-bundle sap/ushell/demo/AppPersSample3/Component-preload.js
sap.ui.require.preload({
	"sap/ushell/demo/AppPersSample3/App.controller.js":function(){
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ushell.services.Personalization");jQuery.sap.require("sap.m.TablePersoController");sap.ui.controller("sap.ushell.demo.AppPersSample3.App",{onInit:function(){var t=this,d=new sap.ui.model.json.JSONModel({rows:[{cell1:"Cell 1",cell2:"Cell 2",cell3:"Cell 3"},{cell1:"Cell 4",cell2:"Cell 5",cell3:"Cell 6"},{cell1:"Cell 7",cell2:"Cell 8",cell3:"Cell 9"}]}),T=this.oView.byId("SampleTableMobile"),s=this.oView.byId("personalize"),v="DemoVariantSet",c="sap.ushell.demo.AppPersSample3.Container",p=sap.ushell.Container.getService("Personalization"),C,o=sap.ui.core.Component.getOwnerComponentFor(this.getView());this.oView=this.getView();this.oView.setModel(d);this.sTABLE_ITEM_NAME="DemoMobileTable";this.sITEM_NAME="DemoItem";this.oMessageService=sap.ushell.Container.getService("Message");this.oPersoContainer=null;this.oPersoVariantSet=null;this.oTablePersonalizer=null;this.oTablePersoController=null;this.sCurrentVariant=null;this.oTablePersonalizer=p.getTransientPersonalizer();this.oTablePersoController=new sap.m.TablePersoController({table:T,persoService:this.oTablePersonalizer,componentName:"sap.ushell.demo.AppPersSample3"});this.oTablePersoController.activate();s.attachPress(function(){t.oTablePersoController.openDialog();});p.getContainer(c,{},o).fail(function(){t.oMessageService.error("Loading of personalization data failed");}).done(function(a){t.oPersoContainer=new sap.ushell.services.Personalization.VariantSetAdapter(a);if(!t.oPersoContainer.containsVariantSet(v)){t.oPersoContainer.addVariantSet(v);}t.oPersoVariantSet=t.oPersoContainer.getVariantSet(v);t.fillSelectionList();C=t.oPersoVariantSet.getCurrentVariantKey();t.applyVariant(C);});},handleSelectChange:function(e){var v=e.getParameter("selectedItem").getKey();this.applyVariant(v);},handleSaveVariant:function(){var v=this.oView.byId("variantName"),V=v.getValue(),o,t,s,T=this.oView.byId("tableHeaderInput"),a=T.getValue(),b=this,n=false;if(!V){s=this.oPersoVariantSet.getCurrentVariantKey();if(!s){this.oMessageService.error("Please enter a name for the variant");return;}}else{s=this.oPersoVariantSet.getVariantKeyByName(V);}if(!s){o=this.oPersoVariantSet.addVariant(V);n=true;s=o.getVariantKey();}else{o=this.oPersoVariantSet.getVariant(s);}V=o.getVariantName();t=this.oTablePersonalizer.getValue();o.setItemValue(this.sITEM_NAME,a);o.setItemValue(this.sTABLE_ITEM_NAME,t);this.oPersoVariantSet.setCurrentVariantKey(s);this.oPersoContainer.save().fail(function(){b.oMessageService.error("Save failed");}).done(function(){b.addVariantToUi(s,V,a,n);b.oMessageService.info("Personalization variant '"+V+"' saved!");v.setValue("");T.setValue("");});},handleDelVariant:function(e){var d=this.oView.byId("dropDownBox"),i=d.getSelectedItem(),n,v=i.getKey(),t=this;d.removeItem(i);n=d.getSelectedKey();this.oPersoVariantSet.delVariant(v);this.oPersoVariantSet.setCurrentVariantKey(n);this.oPersoContainer.save().fail(function(){t.oMessageService.error("Deletion Failed");}).done(function(){if(n){t.applyVariant(n);}});},applyVariant:function(v){var V,t,T;if(v){V=this.oPersoVariantSet.getVariant(v);T=V.getItemValue(this.sITEM_NAME);this.oView.byId("tableTitle").setText(T);t=V.getItemValue(this.sTABLE_ITEM_NAME);this.oTablePersonalizer.setValue(t);this.oTablePersoController.refresh();this.oPersoVariantSet.setCurrentVariantKey(v);this.oPersoContainer.save().fail(function(){}).done(function(){});this.sCurrentVariant=this.oPersoVariantSet.getVariant(v).getVariantName();}},fillSelectionList:function(){var d=this.oView.byId("dropDownBox"),v=this.oPersoVariantSet.getVariantKeys(),c=this.oPersoVariantSet.getCurrentVariantKey(),V,i,C,t=this;v.forEach(function(s){V=t.oPersoVariantSet.getVariant(s);i=new sap.ui.core.Item({key:V.getVariantKey(),text:V.getVariantName()});d.insertItem(i,-1);if(V.getVariantKey()===c){C=i;}});if(C){d.setSelectedItem(C);}},addVariantToUi:function(v,V,t,i){var d=this.oView.byId("dropDownBox");if(i){d.insertItem(new sap.ui.core.Item("",{key:v,text:V}),-1);}d.setSelectedKey(v);this.oView.byId("tableTitle").setText(t);}});}());
},
	"sap/ushell/demo/AppPersSample3/App.view.xml":'<core:View xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="sap.ushell.demo.AppPersSample3.App"><VBox class="marginBoxContent"><Panel headerText="Sample Application for Personalization: Case 3: Variants"><List><headerToolbar><Toolbar><content><Label text="Variants"/><Select id="dropDownBox" selectedKey="MultiSelect" change="handleSelectChange"/><Button id="delVariant" icon="sap-icon://delete" press="handleDelVariant"/><HBox><Input id="variantName" type="Text" placeholder="Enter Variant Name..."/><Button id="variant" icon="sap-icon://save" press="handleSaveVariant"/></HBox></content></Toolbar></headerToolbar><StandardListItem iconInset="false"/></List><Input id="tableHeaderInput" type="Text" placeholder="Enter personalized table header..."/><Table id="SampleTableMobile" showSeparators="Inner" items="{/rows}"><headerToolbar><Toolbar><Label id="tableTitle" text=""/><ToolbarSpacer/><Button id="personalize" icon="sap-icon://table-view"/></Toolbar></headerToolbar><columns><Column id="column1" width="100px"><Label text="Column 1"/></Column><Column id="column2" width="150px"><Label text="Column 2"/></Column><Column id="column3" width="200px"><Label text="Column 3"/></Column></columns><items><ColumnListItem><cells><Text text="{cell1}"/><Text text="{cell2}"/><Text text="{cell3}"/></cells></ColumnListItem></items></Table></Panel></VBox></core:View>',
	"sap/ushell/demo/AppPersSample3/Component.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.demo.AppPersSample3.Component");jQuery.sap.require("sap.ui.core.UIComponent");sap.ui.core.UIComponent.extend("sap.ushell.demo.AppPersSample3.Component",{oMainView:null,metadata:{manifest:"json"},createContent:function(){this.oMainView=sap.ui.xmlview("sap.ushell.demo.AppPersSample3.App");return this.oMainView;}});}());
},
	"sap/ushell/demo/AppPersSample3/i18n/i18n.properties":'#\n#Mon Mar 29 18:19:17 UTC 2021\nsubtitle=Variants and Table\ndescription=Sample app for testing the table personalization and variants\ntitle=App Personalization Sample 3\n',
	"sap/ushell/demo/AppPersSample3/manifest.json":'{"_version":"1.4.0","sap.app":{"_version":"1.1.0","id":"sap.ushell.demo.AppPersSample3","type":"application","applicationVersion":{"version":"1.1.0"},"i18n":"i18n/i18n.properties","title":"{{title}}","subTitle":"{{subtitle}}","description":"{{description}}","ach":"CA-UI2-INT-FE","crossNavigation":{"inbounds":{"inb":{"semanticObject":"Action","action":"toappperssample3","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"_version":"1.1.0","technology":"UI5","icons":{"icon":"sap-icon://table-chart"},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"_version":"1.1.0","dependencies":{"minUI5Version":"1.28","libs":{"sap.m":{"minVersion":"1.28"}}},"contentDensities":{"compact":false,"cozy":true},"services":{"Personalization":{"factoryName":"sap.ushell.ui5service.Personalization"}}}}'
},"sap/ushell/demo/AppPersSample3/Component-preload"
);
//# sourceMappingURL=Component-preload.js.map