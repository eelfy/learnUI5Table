//@ui5-bundle sap/ushell/demo/AppStateSample/Component-preload.js
sap.ui.require.preload({
	"sap/ushell/demo/AppStateSample/Component.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.demo.AppStateSample.Component");jQuery.sap.require("sap.ui.core.UIComponent");sap.ui.core.UIComponent.extend("sap.ushell.demo.AppStateSample.Component",{metadata:{manifest:"json"},getAutoPrefixId:function(){return true;},createContent:function(){var m=sap.ui.view({type:sap.ui.core.mvc.ViewType.XML,viewName:"sap.ushell.demo.AppStateSample.Main"});this.oMainView=m;return m;},extractInnerAppStateFromURL:function(i,c){var t=this;if(i===this.getInnerAppStateKey()){this.oInnerAppStatePromise.resolve(c);return;}t.createANewAppStateModel();jQuery.sap.log.info("applying inner app state "+i+" in instance #"+t.INSTANCECOUNTER);this.oCrossAppStatePromise.done(function(){sap.ushell.Container.getService("CrossApplicationNavigation").getAppState(t,i).done(function(s){t.updateModelFromAppstate(t.oAppStateModel,s,"Setting filter value from InnerAppState");t.oInnerAppStatePromise.resolve(c);});});t.oInnerAppStatePromise.done(function(){t.setInnerAppStateIntoInnerAppHash(c);});},getInnerAppStateKey:function(){return(this.oAppState&&this.oAppState.getKey())||" key not set yet ";},updateModelFromAppstate:function(m,a,c){var t=this,d=a.getData();if(d&&(JSON.stringify(d)!==JSON.stringify(m.getProperty("/appState")))&&m){jQuery.sap.log.info(c+" in instance #"+t.INSTANCECOUNTER);m.setProperty("/appState",d);return true;}return false;},updateAppStateFromAppStateModel:function(){var d;d=this.oAppStateModel.getProperty("/appState");this.oAppState.setData(d);this.oAppState.save().fail(function(){jQuery.sap.log.error("saving of application state failed");});},markOurComponent:function(){sap.ushell.demo.AppStateSample.Component.INSTANCECOUNTER=(sap.ushell.demo.AppStateSample.Component.INSTANCECOUNTER||0)+1;this.INSTANCECOUNTER=sap.ushell.demo.AppStateSample.Component.INSTANCECOUNTER;},createANewAppStateModel:function(){this.oAppState=sap.ushell.Container.getService("CrossApplicationNavigation").createEmptyAppState(this);this.calculateCrossAppLinks();jQuery.sap.log.info("Create a new appstate model "+this.oAppState.getKey()+" in instance #"+this.INSTANCECOUNTER);},init:function(){var t=this,h,c=sap.ushell.Container.getService("CrossApplicationNavigation");jQuery.sap.log.setLevel(jQuery.sap.log.Level.INFO);this.markOurComponent();this.oAppStateModel=new sap.ui.model.json.JSONModel({appState:{filter:"",CollectionName:(sap.ui.core.IconPool.getIconCollectionNames())[0]||"no collection name"}});this.setModel(this.oAppStateModel,"AppState");this.oNavTargetsModel=new sap.ui.model.json.JSONModel({toOurAppWithState:"",toOurAppNoState:""});this.setModel(this.oNavTargetsModel,"navTargets");sap.ui.core.UIComponent.prototype.init.apply(this,arguments);this.oCrossAppStatePromise=new jQuery.Deferred();this.oInnerAppStatePromise=new jQuery.Deferred();this.oAppState=sap.ushell.Container.getService("CrossApplicationNavigation").createEmptyAppState(this);this.calculateCrossAppLinks();sap.ushell.Container.getService("CrossApplicationNavigation").getStartupAppState(this).done(function(s){t.updateModelFromAppstate(t.oAppStateModel,s,"Set Model from StartupAppState");t.oCrossAppStatePromise.resolve();});jQuery.sap.log.info("Router initialized for instance #"+t.INSTANCECOUNTER);this.getRouter().getRoute("toCatIcons").attachMatched(function(e){t.extractInnerAppStateFromURL(e.getParameter("arguments").iAppState,e.getParameter("name"));});this.getRouter().initialize();this.oInnerAppStatePromise.done(function(i){t.updateAppStateFromAppStateModel();t.oAppStateModel.bindTree("/").attachChange(function(){t.updateAppStateFromAppStateModel();});});},setInnerAppStateIntoInnerAppHash:function(i){var t=this;if(i==="catchall"){i="toCatIcons";}setTimeout(function(){jQuery.sap.log.info("Setting inner app hash "+t.getInnerAppStateKey()+" in URL in instance #"+t.INSTANCECOUNTER);t.navTo(i,true);},0);},calculateCrossAppLinks:function(){var h,c=sap.ushell.Container.getService("CrossApplicationNavigation");h=c.hrefForExternal({target:{semanticObject:"Action",action:"toappstatesample"},params:{"zdate":Number(new Date())},appStateKey:this.oAppState.getKey()},this)||"";this.oNavTargetsModel.setProperty("/toOurAppWithState",h);h=c.hrefForExternal({target:{semanticObject:"Action",action:"toappstatesample"},params:{"date":Number(new Date())}},this)||"";this.oNavTargetsModel.setProperty("/toOurAppNoState",h);h=c.hrefForExternal({target:{semanticObject:"Action",action:"tocrossappstatesample"},params:{"date":Number(new Date())},appStateKey:this.oAppState.getKey()},this)||"";this.oNavTargetsModel.setProperty("/toCrossAppWithState",h);},navTo:function(r,n){jQuery.sap.log.info("NavTo "+r+"with AppStateKey"+this.getInnerAppStateKey()+" in URL in instance #"+this.INSTANCECOUNTER);if(this.getRouter()){this.getRouter().navTo(r,{iAppState:this.getInnerAppStateKey()},n);}}});}());
},
	"sap/ushell/demo/AppStateSample/Main.controller.js":function(){(function(){"use strict";sap.ui.controller("sap.ushell.demo.AppStateSample.Main",{onInit:function(){var l=sap.ui.view({type:sap.ui.core.mvc.ViewType.XML,viewName:"sap.ushell.demo.AppStateSample.view.List",id:"List"}),a=this.byId("app");a.addMasterPage(l);},onExit:function(){jQuery.sap.log.info("Main view destroyed");}});}());
},
	"sap/ushell/demo/AppStateSample/Main.view.xml":'<core:View xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="sap.ushell.demo.AppStateSample.Main"><SplitApp id="app"><masterPages/><detailPages/></SplitApp></core:View>',
	"sap/ushell/demo/AppStateSample/i18n/i18n.properties":'#\n#Mon Mar 29 18:19:17 UTC 2021\ndescription=application demonstrating the application state\ntitle=Application State Sample\n',
	"sap/ushell/demo/AppStateSample/manifest.json":'{"_version":"1.4.0","sap.app":{"_version":"1.1.0","i18n":"i18n/i18n.properties","id":"sap.ushell.demo.AppStateSample","type":"application","title":"{{title}}","description":"{{description}}","applicationVersion":{"version":"1.1.0"},"ach":"CA-UI2-INT-FE","dataSources":{},"cdsViews":[],"offline":true,"crossNavigation":{"inbounds":{"inb":{"semanticObject":"Action","action":"toAppStateSampleIcon","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"_version":"1.1.0","technology":"UI5","icons":{"icon":"sap-icon://Fiori2/F0005"},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_hcb","sap_bluecrystal"],"fullWidth":false},"sap.ui5":{"_version":"1.1.0","resources":{"js":[],"css":[{"uri":"css/custom.css","id":"sap.ushell.demo.AppStateSample.stylesheet"}]},"dependencies":{"minUI5Version":"1.28","libs":{"sap.m":{"minVersion":"1.28"}}},"models":{},"rootView":"","handleValidation":false,"config":{},"routing":{"config":{"viewType":"XML","viewPath":"","targetControl":"app","targetAggregation":"detailPages","clearTarget":false,"transition":"slide"},"routes":[{"pattern":"ShowCollection/sap-iapp-state={iAppState}","view":"sap.ushell.demo.AppStateSample.view.CatIcons","name":"toCatIcons"},{"pattern":":all*:","view":"sap.ushell.demo.AppStateSample.view.CatIcons","name":"catchall"}]},"contentDensities":{"compact":false,"cozy":true}}}',
	"sap/ushell/demo/AppStateSample/view/CatIcons.controller.js":function(){
// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
(function(){"use strict";function d(){var n=0,i,A;A=sap.ui.core.IconPool.getIconCollectionNames();for(i=0;i<A.length;i++){n+=sap.ui.core.IconPool.getIconNames(A[i]).length;}return n;}function b(c,n){var U,r=[],i;i=sap.ui.core.IconPool.getIconNames(c);if(i){i.forEach(function(I,e){U="sap-icon://"+c+"/"+I;r.push({key:U,index:e+n,collectionName:c});});}return r;}function g(c){var r=[],i,A;if(c==="Show All"){A=sap.ui.core.IconPool.getIconCollectionNames();for(i=0;i<A.length;i++){Array.prototype.push.apply(r,b(A[i],r.length+1));}}else{Array.prototype.push.apply(r,b(c,r.length+1));}return r;}function u(m,A){var f=A.getProperty("/appState/filter"),r;r=g(A.getProperty("/appState/CollectionName"));jQuery.sap.log.info("updateAppStateModel ... "+f);f.split(" ").forEach(function(n){r=r.filter(function(o){return o.key.indexOf(n)>=0;});});m.getData().icons=r;m.refresh();}function a(m,A,v){m.setSizeLimit(d());m.setData({icons:g(A.getProperty("/appState/CollectionName"))});v.setModel(m);u(m,A);}sap.ui.controller("sap.ushell.demo.AppStateSample.view.CatIcons",{onInit:function(){var t=this;this.oModel=new sap.ui.model.json.JSONModel();a(this.oModel,this.getMyComponent().getModel("AppState"),this.getView());this.getMyComponent().getModel("AppState").bindProperty("/appState/CollectionName").attachChange(function(){a(t.oModel,t.getMyComponent().getModel("AppState"),t.getView());});this.getView().byId("search").attachLiveChange(this.handleChange.bind(this));this.getMyComponent().getModel("AppState").bindProperty("/appState/filter").attachChange(function(){u(t.oModel,t.getMyComponent().getModel("AppState"));t.getMyComponent().navTo("toCatIcons");});u(this.oModel,this.getMyComponent().getModel("AppState"));},handleChange:function(e){jQuery.sap.log.info("handleChange ..."+e.oSource.getModel("AppState").getProperty("/appState/filter"));e.oSource.getModel("AppState").setProperty("/appState/filter",e.mParameters.newValue);},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this);},getMyComponent:function(){var c=sap.ui.core.Component.getOwnerIdFor(this.getView());return sap.ui.component(c);}});}());
},
	"sap/ushell/demo/AppStateSample/view/CatIcons.view.xml":'<core:View xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="sap.ushell.demo.AppStateSample.view.CatIcons"><Page title="CatIcons" id="pgView2"><content><Text text="Collection view..."/><VBox><Toolbar><Input id="search" value="{AppState&gt;/appState/filter}" type="Text" placeholder="Enter icon search criteria, e.g. \'Suite sub\' or \'Fiori7\'" tooltip="split at space, search anywhere in key, AND operation (e.g. \'SuiteInApp sub\')"/><ToolbarSpacer/><Button id="onClearSearch" text="clear" tooltip="clear search" press="onClearSearch"/></Toolbar><Table id="itemTable" inset="false" items="{/icons}"><columns><Column width="2em" hAlign="Center"><Text text="Icon" width="6em"/></Column><Column width="23em"><Text text="Key"/></Column><Column width="15em"><Text text="CollectionName"/></Column><Column width="10em" hAlign="Center"><Text text="index" tooltip="index in collection"/></Column></columns><items><ColumnListItem><cells><core:Icon src="{key}" tooltip="{key}" height="38px" width="38px" size="2rem"/><Text text="{key}"/><Text text="{collectionName}"/><Text text="{index}"/></cells></ColumnListItem></items></Table></VBox></content></Page></core:View>',
	"sap/ushell/demo/AppStateSample/view/List.controller.js":function(){
/* the subsequent text seems not to contain a copyright or license statement */
(function(){"use strict";jQuery.sap.require("sap.ui.commons.Panel");jQuery.sap.require("sap.ushell.ui.footerbar.JamDiscussButton");jQuery.sap.require("sap.ushell.ui.footerbar.JamShareButton");jQuery.sap.require("sap.ushell.ui.footerbar.AddBookmarkButton");sap.ui.controller("sap.ushell.demo.AppStateSample.view.List",{onInit:function(){var p=this.oView.getContent()[0],s=sap.ushell.services.AppConfiguration,a,A,t=this;this.getView().byId("MasterPage").setTitle("AppStateSample Instance #"+this.getMyComponent().INSTANCECOUNTER);if(s){p.setShowFooter(true);a=new sap.m.ActionSheet({placement:sap.m.PlacementType.Top});a.addButton(new sap.ushell.ui.footerbar.JamDiscussButton());a.addButton(new sap.ushell.ui.footerbar.JamShareButton());a.addButton(new sap.ushell.ui.footerbar.AddBookmarkButton());A=new sap.m.Button({press:function(){a.openBy(this);},icon:"sap-icon://action"});if(s&&typeof s.getSettingsControl==="function"){p.setFooter(new sap.m.Bar({contentLeft:s.getSettingsControl(),contentRight:A}));}this.oModel=new sap.ui.model.json.JSONModel({icons:this.getIconCollections()});this.getMyComponent().getModel("AppState").bindProperty("/appState/CollectionName").attachChange(function(){try{t.selectListItemByCollectionName((t.getMyComponent().getModel("AppState")).getProperty("/appState/CollectionName"));}catch(e){jQuery.sap.log.warning("Could not excecute selectListItemByCollectionName (yet)",e.toString(),"sap.ushell.demo.AppStateSample.view.List");}});this.getView().setModel(this.oModel);t.selectListItemByCollectionName(this.getMyComponent().getModel("AppState").getProperty("/appState/CollectionName"));}},handleCollectionItemSelect:function(e){var p,b=e.getSource().getSelectedItem().getBindingContext(),c=b.getObject().CollectionName;c=c||"";e.oSource.getModel("AppState").setProperty("/appState/CollectionName",c);this.getMyComponent().navTo("toCatIcons");},getIconCollections:function(){var r=[],n,t;r.push({CollectionName:"Show All"});sap.ui.core.IconPool.getIconCollectionNames().forEach(function(c){r.push({CollectionName:c});});return r;},selectListItemByCollectionName:function(c){this.getView().byId("categoryList").getItems().forEach(function(L){if(L.getTitle()===c){L.setSelected(true);}});},getMyComponent:function(){var c=sap.ui.core.Component.getOwnerIdFor(this.getView());return sap.ui.component(c);},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this);}});}());
},
	"sap/ushell/demo/AppStateSample/view/List.view.xml":'<core:View xmlns="sap.m" xmlns:core="sap.ui.core" controllerName="sap.ushell.demo.AppStateSample.view.List"><Page id="MasterPage" title="AppStateSample(Master View) Instance #0"><content><ToolbarSpacer/><List id="categoryList" headerText="Icon Categories" mode="SingleSelectMaster" select="handleCollectionItemSelect" items="{/icons}"><items><StandardListItem title="{CollectionName}" type="Active" press="handleCollectionItemPress"/></items></List><Panel><Title text="Cross Application Navigation"/><content><ToolbarSpacer/><Link text="navigate to OTHER app, passing context" href="{navTargets&gt;/toCrossAppWithState}" tooltip="Go to CrossAppState sample app, passing current state"/><Link href="{navTargets&gt;/toOurAppWithState}" text="navigate to THIS app, passing context" tooltip="Restart our app, passing current state"/><ToolbarSpacer/><Link href="{navTargets&gt;/toOurAppNoState}" text="navigate to THIS app, passing no context" tooltip="Restart our app, no context"/></content></Panel></content></Page></core:View>'
},"sap/ushell/demo/AppStateSample/Component-preload"
);
//# sourceMappingURL=Component-preload.js.map